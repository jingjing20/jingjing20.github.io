(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{368:function(t,i,a){"use strict";a.r(i);var e=a(42),v=Object(e.a)({},(function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"git-config"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#git-config"}},[t._v("#")]),t._v(" git config")]),t._v(" "),a("h3",{attrs:{id:"git-config-global"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#git-config-global"}},[t._v("#")]),t._v(" git config --global")]),t._v(" "),a("p",[t._v("设置全局 git 用户信息")]),t._v(" "),a("ul",[a("li",[t._v("git config --global user.name 'jingjing20'")]),t._v(" "),a("li",[t._v("git config --global user.email '1269928993@qq.com'")])]),t._v(" "),a("h3",{attrs:{id:"git-config-local"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#git-config-local"}},[t._v("#")]),t._v(" git config --local")]),t._v(" "),a("p",[t._v("设置某个仓库 git 用户信息")]),t._v(" "),a("ul",[a("li",[t._v("git config --local user.name 'jingjing20'")]),t._v(" "),a("li",[t._v("git config --local user.email '1269928993@qq.com'")])]),t._v(" "),a("div",{staticClass:"custom-block danger"},[a("p",{staticClass:"custom-block-title"},[t._v("优先级")]),t._v(" "),a("p",[t._v("local > global")])]),t._v(" "),a("h2",{attrs:{id:"git-add-git-commit-后想撤销怎么办"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#git-add-git-commit-后想撤销怎么办"}},[t._v("#")]),t._v(" git add / git commit 后想撤销怎么办？")]),t._v(" "),a("h3",{attrs:{id:"git-reset-soft-head-1"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#git-reset-soft-head-1"}},[t._v("#")]),t._v(" git reset --soft HEAD~1")]),t._v(" "),a("ul",[a("li",[t._v("这样就成功的撤销了你的 "),a("code",[t._v("commit")])]),t._v(" "),a("li",[t._v("注意，仅仅是撤回 "),a("code",[t._v("commit")]),t._v(" 操作，您写的代码仍然保留。")]),t._v(" "),a("li",[a("code",[t._v("HEAD~1")]),t._v(" 中的 1 代表撤销一次 "),a("code",[t._v("commit")])])]),t._v(" "),a("h3",{attrs:{id:"参数的意义如下"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#参数的意义如下"}},[t._v("#")]),t._v(" 参数的意义如下：")]),t._v(" "),a("p",[a("strong",[a("em",[t._v("--mixed")])])]),t._v(" "),a("ul",[a("li",[t._v("不删除工作空间改动代码，撤销 "),a("code",[t._v("commit")]),t._v("，并且撤销 "),a("code",[t._v("git add .")]),t._v(" 操作。")]),t._v(" "),a("li",[t._v("这个为默认参数，"),a("code",[t._v("git reset --mixed HEAD~1")]),t._v(" 和 "),a("code",[t._v("git reset HEAD~1")]),t._v(" 效果是一样的。")])]),t._v(" "),a("p",[a("strong",[a("em",[t._v("--soft")])])]),t._v(" "),a("ul",[a("li",[t._v("不删除工作空间改动代码，撤销 "),a("code",[t._v("commit")]),t._v("，不撤销 "),a("code",[t._v("git add .")])])]),t._v(" "),a("p",[a("strong",[a("em",[t._v("--hard")])])]),t._v(" "),a("ul",[a("li",[t._v("删除工作空间改动代码，撤销 "),a("code",[t._v("commit")]),t._v("，撤销 "),a("code",[t._v("git add .")])]),t._v(" "),a("li",[t._v("注意完成这个操作后，就恢复到了上一次的 "),a("code",[t._v("commit")]),t._v(" 状态。")])]),t._v(" "),a("h3",{attrs:{id:"只是想改-commit-的描述信息"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#只是想改-commit-的描述信息"}},[t._v("#")]),t._v(" 只是想改 commit 的描述信息？")]),t._v(" "),a("p",[t._v("如果 commit 注释写错了，只是想改一下注释，只需要 "),a("code",[t._v("git commit --amend")]),t._v("，此时会进入默认 "),a("code",[t._v("vim")]),t._v(" 编辑器，修改注释完毕后保存就好了。")]),t._v(" "),a("h2",{attrs:{id:"git-log-vs-git-reflog"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#git-log-vs-git-reflog"}},[t._v("#")]),t._v(" git log VS git reflog")]),t._v(" "),a("ul",[a("li",[t._v("假设一个场景如下：\n"),a("strong",[t._v("在我实习的时候，我本地的某个开发分支 A 被误删了， A 分支里面的代码没有 "),a("code",[t._v("push")]),t._v(" 到远程，我该如何找回之前 A 的提交记录和代码呢？")])])]),t._v(" "),a("details",{staticClass:"custom-block details"},[a("summary",[t._v("答案")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("git reflog")]),t._v(" 可以查看所有分支的所有操作记录（包括已经被删除的 "),a("code",[t._v("commit")]),t._v(" 记录和 "),a("code",[t._v("reset")]),t._v(" 的操作）")]),t._v(" "),a("li",[t._v("例如执行 "),a("code",[t._v("git reset --hard HEAD~1")]),t._v("，退回到上一个版本，用 "),a("code",[t._v("git log")]),t._v(" 则是看不出来被删除的"),a("code",[t._v("commitid")])]),t._v(" "),a("li",[t._v("用 "),a("code",[t._v("git reflog")]),t._v(" 则可以看到被删除的 "),a("code",[t._v("commitid")]),t._v("，我们就可以买后悔药，恢复到被删除的那个版本。")])])]),t._v(" "),a("h2",{attrs:{id:"git-cherry-pick"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#git-cherry-pick"}},[t._v("#")]),t._v(" git cherry-pick")]),t._v(" "),a("ul",[a("li",[t._v("在公司多人协作开发项目的时候，将代码从一个分支转移到另一个分支是常见需求，这时分两种情况。")]),t._v(" "),a("li",[t._v("一种情况是，你需要另一个分支的所有代码变动，那么就采用合并（git merge）。")]),t._v(" "),a("li",[t._v("另一种情况是，你只需要部分代码变动（某几个提交），这时可以采用 git cherry-pick。")]),t._v(" "),a("li",[a("code",[t._v("git cherry-pick")]),t._v(" 命令的作用，就是将指定的提交（commit）应用于其他分支。\n我在实习过程中有一次写完代码发现自己写代码的分支错了、、、改动又有点多，不想重新切换分支写一遍。我就直接在当前分支提交了代码，然后到正确的功能分支上用 "),a("code",[t._v("git log")]),t._v(" 查到那次代码提交的 "),a("code",[t._v("commitHash")]),t._v("，然后用"),a("code",[t._v("git cherry-pick <commitHash>")]),t._v(" 这个命令把这次提交的代码合入当前正确的功能分支。")])]),t._v(" "),a("p",[t._v("更多用法参考阮一峰大神的文章: https://www.ruanyifeng.com/blog/2020/04/git-cherry-pick.html")]),t._v(" "),a("h2",{attrs:{id:"分支操作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#分支操作"}},[t._v("#")]),t._v(" 分支操作")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("git branch "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("m oldBranch newBranch    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//修改本地分支名")]),t._v("\ngit push "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("delete")]),t._v(" origin oldBranch   "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//删除远程分支")]),t._v("\ngit push "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("set"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("upstream origin newBranch  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//将本地新分支名 push 到远程分支（会在远程仓库新建新分支名的分支）")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])])])}),[],!1,null,null,null);i.default=v.exports}}]);